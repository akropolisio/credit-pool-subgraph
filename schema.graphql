type User @entity {
  id: ID!
  lBalance: BigInt!,
  pBalance: BigInt!,
  locked: BigInt!,
  credit: BigInt!,
  history: [Balance!]!
}

type Balance @entity{
  id: ID!,
  user: Bytes!,
  lBalance: BigInt!,
  pBalance: BigInt!,
}

type Debt @entity {
  id: ID!
  borrower: Bytes!,
  total: BigInt!,
  repayed: BigInt!,
  pledges: [Pledge!]!,
  status: Status!,
  debt_id: Int
}

type Pledge @entity {
  id: ID!
  pledger: Bytes!,
  lAmount: BigInt!,
  pAmount: BigInt!
}

type Pool @entity {
  id: ID!,
  lBalance: BigInt!,
  lDebt: BigInt!,
  pEnterPrice: Int!,
  pExitPrice: Int!,
  loans: BigInt!
}

enum Status {
  PROPOSED
  APPROVED
  DECLINED
  PARTIALLY_REPAYED
  CLOSED
}
